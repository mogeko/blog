---
title: "GNOME MPV | GNU/Linux ä¸‹ä¸€ä¸ªä¸é”™çš„æµåª’ä½“æ’­æ”¾å™¨"
date: 2018-11-20T16:52:42+08:00
draft: false
tags: ["GNU/Linux"]
categories: ["å…³äºè½¯ä»¶"]
---
<!-- 
![](https://mogeko.github.io/blog-images/r/029/)
<img src="" alt="" >
{{< spoiler >}}{{< /spoiler >}}
 -->

åœ¨ GNU/Linux ä¸‹çœ‹è§†é¢‘å‘æ¥æ˜¯ä¸€ä»¶éº»çƒ¦äº‹ã€‚[**VLC**](https://www.videolan.org/index.zh.html) å¤ªè¿‡è‡ƒè‚¿ï¼Œ[**MPV**](https://mpv.io/) åˆå¤ªè¿‡ç®€ (chÇ’u) é™‹äº†ã€‚

é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€æ¬¾æ’­æ”¾å™¨èƒ½å…¼é¡¾ç¾è§‚ä¸å†…åœ¨ï¼Œéšä¾¿è¿˜æ‹¥æœ‰è¾ƒå¥½çš„æ˜“ç”¨æ€§å’Œè¾ƒå¼ºçš„å®šåˆ¶èƒ½åŠ›å‘¢ï¼Ÿ

å½“ç„¶æ˜¯æœ‰äº†ï¼**GNOME MPV** å°±æ˜¯è¿™ä¹ˆä¸€æ¬¾æ’­æ”¾å™¨ï¼Œå®ƒåŸºäº **MPV**ï¼Œç»§æ‰¿äº† **MPV** å¼ºå¤§çš„ç¼–è§£ç å™¨ï¼Œä»¥åŠå…¶ææ€–çš„å®šåˆ¶èƒ½åŠ› {{< spoiler >}}è„šæœ¬æ‰æ˜¯ **MPV** çš„çµé­‚ | ãƒ»Ï‰ãƒ»â€™ï¼‰{{< /spoiler >}}ã€‚åŒæ—¶åˆæ‹¥æœ‰è¾ƒä¸ºç¾è§‚æ–¹ä¾¿çš„ GUIï¼Œç®€ç›´æ˜¯å±…å®¶æ—…è¡Œå¿…å¤‡çš„ä¸‡èƒ½æ’­æ”¾å™¨å•Šï¼ï¼ğŸ˜‚ğŸ˜‚ğŸ˜‚

<!-- more -->

<br>

å®˜ç½‘ï¼š<https://gnome-mpv.github.io>

GitHub åœ°å€ï¼š<https://github.com/gnome-mpv/gnome-mpv>

<br>

<img src="https://mogeko.github.io/blog-images/r/029/gnome_mpv.png" alt="GNOME MPV" >

## ä¾èµ–

- autotools (åªåœ¨æ„å»ºæ—¶ä¾èµ–)
- autoconf-archive (åªåœ¨æ„å»ºæ—¶ä¾èµ–)
- pkg-config (åªåœ¨æ„å»ºæ—¶ä¾èµ–)
- gcc (åªåœ¨æ„å»ºæ—¶ä¾èµ–)
- intltool (åªåœ¨æ„å»ºæ—¶ä¾èµ–)
- python2 (åªåœ¨æ„å»ºæ—¶ä¾èµ–)
- **glib2**
- **gtk3**
- **libmpv**
- youtube-dl (å¯é€‰)

## å®‰è£…

### GNU/Linux packages

- Arch Linux <https://www.archlinux.org/packages/gnome-mpv>


- Arch Linux (Git): <https://aur.archlinux.org/packages/gnome-mpv-git>
- Debian testing: <https://packages.debian.org/testing/gnome-mpv>
- Debian unstable: <https://packages.debian.org/sid/gnome-mpv>
- Fedora (rpmfusion): <https://admin.rpmfusion.org/pkgdb/package/free/gnome-mpv>
- Frugalware: <http://www4.frugalware.org/pub/linux/distributions/frugalware/frugalware-current/source/xapps-extra/gnome-mpv/>
- OpenSUSE: <https://software.opensuse.org/package/gnome-mpv>
- Gentoo: <https://packages.gentoo.org/packages/media-video/gnome-mpv>
- Guix: <https://www.gnu.org/software/guix/packages/g.html#gnome-mpv>
- Solus: <https://packages.solus-project.com/shannon/g/gnome-mpv>
- Ubuntu: <https://launchpad.net/~xuzhen666/+archive/ubuntu/gnome-mpv>

### Source code

åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ„å»ºå¹¶å®‰è£…

```plaintext
./autogen.sh && make && sudo make install
```

## ä½¿ç”¨

### é…ç½®

æ¨èä½¿ç”¨ **MPV** çš„é…ç½®æ–‡ä»¶æ¥å¯¹ **GNOME MPV** (åŠ `mpv.conf` å’Œ `input.conf` ) è¿›è¡Œé…ç½®ï¼Œè¿™æ ·ä¸€æ–¹é¢å¯ä»¥ä½¿é…ç½®å…¼å®¹ **MPV**ï¼Œå¦ä¸€æ–¹é¢å¯å®šåˆ¶æ€§æ›´é«˜ã€‚

**é¦–é€‰é¡¹**  -> å‹¾é€‰ **åŠ è½½ MPV é…ç½®æ–‡ä»¶** å’Œ **åŠ è½½ MPV è¾“å…¥é…ç½®æ–‡ä»¶** -> å®šä½åˆ°  `mpv.conf` å’Œ `input.conf` çš„ä½ç½® (Linux ä¸‹ä¸€èˆ¬æ˜¯ `~/.config/mpv/`)

ä»¥ä¸‹æ˜¯æˆ‘ç›®å‰ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ï¼›å› ä¸ºåªæ˜¯è½»åº¦ä½¿ç”¨ï¼Œæ‰€ä»¥æ¯”è¾ƒç®€å•

æ›´å¤šé…ç½®è¯·å‚è€ƒï¼š[MPV é…ç½®æ–‡ä»¶ç¤ºä¾‹](https://github.com/mpv-player/mpv/blob/master/etc/mpv.conf)&emsp;&emsp;[MPV è¾“å…¥é…ç½®æ–‡ä»¶](https://github.com/mpv-player/mpv/blob/master/etc/input.conf)

**mpv.conf:**

```conf
# æ²¡æœ‰è¾¹æ¡†
##no-border

# è®°ä½æ–­ç‚¹
seve-position-on-quit

# éŸ³/å­—å¹•è½¨é€‰æ‹©
## æŒ‡å®šä¼˜å…ˆä½¿ç”¨éŸ³è½¨ï¼ˆDVDä½¿ç”¨ISO 639-1ä¸¤ä½è¯­è¨€ä»£ç ï¼ŒMKVã€MPEG-TSä½¿ç”¨ISO 639-2 ä¸‰ä½è¯­è¨€ä»£ç ï¼‰
alang=zh,chi
## æŒ‡å®šä¼˜å…ˆä½¿ç”¨å­—å¹•è½¨ï¼ˆDVDä½¿ç”¨ISO 639-1ä¸¤ä½è¯­è¨€ä»£ç ï¼ŒMKVã€MPEG-TSä½¿ç”¨ISO 639-2 ä¸‰ä½è¯­è¨€ä»£ç ï¼‰
slang=zh,chi

# éŸ³/å­—å¹•è½¨åŠ è½½æ–¹å¼
## åŠ è½½è§†é¢‘æ–‡ä»¶çš„å¤–éƒ¨éŸ³é¢‘æ–‡ä»¶æ–¹å¼ã€‚ï¼ˆfuzzy åŠ è½½å«æœ‰è§†é¢‘æ–‡ä»¶åçš„å…¨éƒ¨éŸ³é¢‘æ–‡ä»¶ï¼‰
audio-file-auto=fuzzy
## åŠ è½½è§†é¢‘æ–‡ä»¶çš„å¤–éƒ¨å­—å¹•æ–‡ä»¶æ–¹å¼ã€‚ï¼ˆfuzzy åŠ è½½å«æœ‰è§†é¢‘æ–‡ä»¶åçš„å…¨éƒ¨å­—å¹•æ–‡ä»¶ï¼‰
sub-auto=fuzzy
## å­—å¹•ç¼–ç 
sub-codepage=utf-8:gb18030
```

**input.conf:**

```conf
# é€€å‡ºæ–¹å¼
q quit-watch-later
Q quit-watch-later
ESC quit-watch-later
CLOSE_WIN quit-watch-later

# éŸ³é‡è°ƒæ•´
WHEEL_UP volume 5
WHEEL_DOWN volume -5
UP volume 5
DOWN volume -5

# æ’­æ”¾/æš‚åœ
MBTN_LEFT cycle pause
```

### æ’ä»¶

**MPV** ä¹‹æ‰€ä»¥å¹¿å—å¥½è¯„ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› å°±æ˜¯å®ƒå¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿã€‚**GNOME MPV** åŸºäº **MPV**ï¼Œè‡ªç„¶æ˜¯ç»§æ‰¿äº†å¤§æŠŠçš„æ’ä»¶ï¼Œè¿™ä¹Ÿè®© **GNOME MPV** çš„å¯ç©æ€§æå‡äº†ä¸€ä¸ªæ¡£æ¬¡ã€‚

#### æ’ä»¶å®‰è£…æ–¹æ³•

**MPV**: å°†æ’ä»¶è„šæœ¬ç²˜è´´åˆ° `~/.config/mpv/scripts` æ–‡ä»¶å¤¹ä¸­

**GNOME MPV**: **é¦–é€‰é¡¹** -> **æ’ä»¶** -> é€‰æ‹©æ’ä»¶è„šæœ¬çš„è·¯å¾„

#### æ¨èå‡ ä¸ªæ’ä»¶

è¿™é‡Œæ¨èå‡ ä¸ªæˆ‘æ¯”è¾ƒå¸¸ç”¨çš„æ’ä»¶ã€‚

æ›´å¤šæ’ä»¶è¯·å‚è€ƒï¼š[**MPV** æ’ä»¶è„šæœ¬åˆ—è¡¨](https://github.com/mpv-player/mpv/wiki/User-Scripts)

**autoload.lua**

è‡ªåŠ¨åŠ è½½å½“å‰æ’­æ”¾æ–‡ä»¶ç›®å½•é‡Œçš„è§†é¢‘æ–‡ä»¶åˆ°æ’­æ”¾åˆ—è¡¨ï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨è¿æ’­ã€‚

[GitHub åœ°å€](https://github.com/mpv-player/mpv/blob/master/TOOLS/lua/autoload.lua)&emsp;&emsp;[ä¸‹è½½åœ°å€ (ä¸ä¿è¯æœ€æ–°)](https://github.com/Mogeko/blog-commits/releases/download/029/autoload.lua)

**save-sub-delay.lua**

æœ‰æ—¶å€™å¤–æŒ‚å­—å¹•æ—¶é—´è½´ä¸æ­£ç¡®ï¼Œè°ƒå¥½ä¹‹åï¼Œè¿™ä¸ªè„šæœ¬ä¼šä¿å­˜delayä¿¡æ¯ã€‚

[GitHub åœ°å€](https://github.com/zc62/mpv-scripts/blob/master/save-sub-delay.lua)&emsp;&emsp;[ä¸‹è½½åœ°å€ (ä¸ä¿è¯æœ€æ–°)](https://github.com/Mogeko/blog-commits/releases/download/029/save-sub-delay.lua)

**find_subtitles.lua**

è‡ªåŠ¨ä½¿ç”¨ [**subliminal**](https://github.com/Diaoul/subliminal) ä»å­—å¹•ç«™åŒ¹é…å¹¶ä¸‹è½½å­—å¹•ã€‚

**find_subtitles.lua é»˜è®¤ä¸‹è½½çš„æ˜¯è‹±æ–‡å­—å¹•ï¼Œä¸‹è½½ä¸­åˆå­—å¹•éœ€è¦åœ¨è„šæœ¬ä¸­å°† 38 è¡Œçš„ `en` æ›¿æ¢æ¢æˆ `zh`**

ä¾èµ–ï¼š

- python2 {{< spoiler >}}å®é™…ä¸Šæ˜¯ **subliminal** ä¾èµ– python2{{< /spoiler >}}

- subliminal -> [å…³äº subliminal (å®‰è£…æ–¹æ³•)](https://mogeko.github.io/2018/030)

[GitHub åœ°å€](https://github.com/directorscut82/find_subtitles/blob/master/find_subtitles.lua)&emsp;&emsp;[ä¸‹è½½åœ°å€ (æˆ‘è°ƒæ•´è¿‡çš„ç‰ˆæœ¬)](https://github.com/Mogeko/blog-commits/releases/download/029/find_subtitles.lua)





<br>

<center>  Â·EndÂ·  </center>
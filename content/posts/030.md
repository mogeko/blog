---
title: "subliminal | ç”µå½±å­—å¹•ä¸‹è½½ç¥å™¨"
date: 2018-11-21T09:39:26+08:00
draft: false
tags: ["Tools"]
categories: ["å…³äºè½¯ä»¶"]
---
<!-- 
<img alt="" src="" >
<span class="spoiler" ></span>
<br>
 -->

[**subliminal**](https://github.com/Diaoul/subliminal) æ˜¯ä¸€ä¸ªåŸºäº Python çš„å¼ºå¤§çš„å‘½ä»¤è¡Œå­—å¹•æœç´¢å’Œä¸‹è½½å·¥å…·ã€‚

æœ€å…ˆçŸ¥é“ **subliminal** æ˜¯å› ä¸º **MPV** æ’­æ”¾å™¨ã€‚é…åˆæ’ä»¶ [**find_subtitles.lua**](https://github.com/directorscut82/find_subtitles/blob/master/find_subtitles.lua) ä½¿ç”¨ï¼Œåœ¨è½½å…¥è§†é¢‘çš„åŒæ—¶æœç´¢å¹¶ä¸‹è½½ä¸­æ–‡å­—å¹•ï¼Œç®€ç›´å¤©è¡£æ— ç¼ã€‚ä¸è¿‡æœ‰çš„è§†é¢‘çš„æ–‡ä»¶åä¸æ˜¯é‚£ä¹ˆæ ‡å‡†çš„è¯ï¼Œå°±ä¸ä¸€å®šèƒ½åŒ¹é…å¾—åˆ°åˆé€‚çš„å­—å¹•ã€‚è§£å†³æ–¹æ³•é™¤äº†æ”¹æ–‡ä»¶åä»¥å¤–ï¼Œè¿˜å¯ä»¥ç”¨  **subliminal** æ‰‹åŠ¨æœç´¢ã€‚

**subliminal** ä½¿ç”¨å¤šä¸ªå­—å¹•ç½‘ç«™åšä¸ºæ•°æ®æºï¼ŒåŒ…æ‹¬ä¸–ç•Œä¸Šæœ€å¤§çš„å¼€æ”¾å¼å­—å¹•åº“ [opensubtitles](http://opus.nlpl.eu/OpenSubtitles.php) 

<span class="spoiler" >ä¸å¹¸çš„æ˜¯ï¼Œæœ‰å‡ ä¸ªå­—å¹•ç«™è¢«å¢™äº†ï¼Œæ¯”å¦‚ **podnapisi**, **legendastv**, **shooter**â€¦</span>

<!-- more -->

<br>

GitHub åœ°å€ï¼š<https://github.com/Diaoul/subliminal>

<br>

<img alt="subliminal" src="https://mogeko.github.io/blog-images/r/030/subliminal.png" >



## ä¾èµ–

- python2

## å®‰è£…

é¦–å…ˆå®‰è£… `python2` å’Œ `pip`

ç„¶ååœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š

```bash
pip install subliminal
```

## ä½¿ç”¨

åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š

```bash
subliminal download -l zh [ç”µå½±åç§°]
```

ä¾‹å¦‚ï¼Œå¦‚æœè¦ä¸‹è½½ã€Œä½ä¿—å°è¯´ã€çš„å­—å¹•ï¼š

```bash
subliminal download -l zh Pulp.Fiction.1994.720p.BluRay.DTS.x264-ESiR
```

<img alt="return" src="https://mogeko.github.io/blog-images/r/030/return.png" >

éƒ¨åˆ†å­—å¹•æ–‡ä»¶ï¼š

```txt
2
00:00:14,480 --> 00:00:18,850
æŸ”è»Ÿæ½®æ¿•çš„ç‰©é«”

3
00:00:18,980 --> 00:00:24,610
ä½ç´šè¶£å‘³ã€å°åˆ·ç°¡é™‹çš„æ›¸åˆŠ

4
00:00:27,620 --> 00:00:31,590
ç®—äº†  å¤ªå†’éšªäº†  æˆ‘ä¸å¹¹

5
00:00:31,590 --> 00:00:34,080
ä½ æ¯æ¬¡éƒ½é€™æ¨£èªª

6
00:00:34,460 --> 00:00:36,890
å¤ªå±éšªäº†â€¦æˆ‘ä¸å¹¹äº†â€¦

7
00:00:37,060 --> 00:00:39,530
æˆ‘å“ªä¸€æ¬¡èªªéŒ¯?
```

å±…ç„¶æ˜¯ç¹ä½“ï¼Œä¸è¿‡æˆ‘ä¸€èˆ¬é‡åˆ°çš„éƒ½æ˜¯ç®€ä½“ä¸­æ–‡çš„ï¼Œè€Œä¸”ç¹ä½“ä¹Ÿä¸æ˜¯ä¸èƒ½çœ‹ğŸ¤”

<br>

å‘½ä»¤ä¸­çš„ `-l` æŒ‡å®šä¸‹è½½çš„å­—å¹•è¯­è¨€ï¼Œä¾‹å¦‚è¦ä¸‹è½½è‹±è¯­å­—å¹•ï¼š

```bash
subliminal download -l cn Pulp.Fiction.1994.720p.BluRay.DTS.x264-ESiR
```

## è„šæœ¬

é™¤äº†æ‰‹åŠ¨è¾“å…¥å‘½ä»¤è¡Œå¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è„šæœ¬ Python è„šæœ¬ã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªè„šæœ¬å°±å¯ä»¥è‡ªåŠ¨ä¸‹è½½ç›®å½•ä¸­è§†é¢‘æ–‡ä»¶å¯¹åº”çš„å­—å¹•ï¼š

```python
from datetime import timedelta
 
from babelfish import Language
from subliminal import download_best_subtitles, region, save_subtitles, scan_videos
 
# configure the cache
region.configure('dogpile.cache.dbm', arguments={'filename': 'cachefile.dbm'})
 
# scan for videos newer than 2 weeks and their existing subtitles in a folder
videos = scan_videos('/video/folder', age=timedelta(weeks=2))
 
# download best subtitles
subtitles = download_best_subtitles(videos, {Language('eng'), Language('fra')})
 
# save them to disk, next to the video
for v in videos:
    save_subtitles(v, subtitles[v])
```



è¿˜æœ‰é…åˆ **MPV** / **GNOME MPV** æ’­æ”¾å™¨ä½¿ç”¨çš„è„šæœ¬ï¼š[**find_subtitles.lua**](https://github.com/directorscut82/find_subtitles/blob/master/find_subtitles.lua)&emsp;&emsp;[å…³äº GNOME MPV æ’­æ”¾å™¨](https://mogeko.github.io/2018/029)

éœ€è¦æ³¨æ„çš„æ˜¯ **find_subtitles.lua é»˜è®¤ä¸‹è½½çš„æ˜¯è‹±æ–‡å­—å¹•ï¼Œä¸‹è½½ä¸­åˆå­—å¹•éœ€è¦åœ¨è„šæœ¬ä¸­å°† 38 è¡Œçš„ `en` æ›¿æ¢æ¢æˆ `zh`**ã€‚å¦‚æœä½ è§‰å¾—éº»çƒ¦çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘[ä¿®æ”¹è¿‡çš„ç‰ˆæœ¬](https://github.com/Mogeko/blog-commits/releases/download/029/find_subtitles.lua)ã€‚



<br>

<center>  Â·EndÂ·  </center>